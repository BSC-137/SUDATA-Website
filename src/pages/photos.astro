---
import Layout from "../layouts/Layout.astro";
import AlbumCarousel from "../components/AlbumCarousel.astro";
import { loadAlbum } from "../lib/albums";

// For some reason we need to add every other file ext?? Doesn't show image otherwise
const innGlob = import.meta.glob("../assets/albums/inn-temp/*.{jpg,jpeg,png,webp,avif}", {
  eager: true,
  import: "default",
});

const ballGlob = import.meta.glob("../assets/albums/ball-temp/*.{jpg,jpeg,png,webp,avif}", {
  eager: true,
  import: "default",
});

const albums = [
  {
    name: "INN 2025",
    date: "May 2025",
    images: loadAlbum(innGlob, "INN 2025"),
  },
  {
    name: "SUDATA x SUMATH x UNSWMATH Ball 2025",
    date: "Oct 2025",
    images: loadAlbum(ballGlob, "Ball 2025")
  }
]
---

<Layout title="SUDATA | Photos">
  <div class="flex flex-col items-center min-h-[50vh] px-4 py-10 space-y-10">
    <h1 class="text-center text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sudata-cyan to-white">
      Photos
    </h1>

    {albums.map((a) => (
      <section class="w-full max-w-4xl text-left space-y-3">
        <h2 class="text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sudata-cyan to-white">
          {a.name}
        </h2>
        <p class="text-sm md:text-base text-sudata-grey">{a.date}</p>
        <AlbumCarousel 
          images={a.images} 
          description="Tap to view!" 
          height={420}
          crtWarp={0.4} 
          crtEdge={0.6} 
          scanStrength={0.3}/>
      </section>
    ))}
  </div>
</Layout>
