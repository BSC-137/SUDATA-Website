---
import Layout from '../layouts/Layout.astro';
import PDFViewer from '../components/PDFViewer.jsx';
import OpportunitiesBoard from '../components/OpportunitiesBoard.jsx';
import { readFileSync } from 'node:fs';
import { join } from 'node:path';

const opportunitiesJson = readFileSync(join(process.cwd(), 'src/data/opportunities.json'), 'utf-8');
const opportunitiesData = JSON.parse(opportunitiesJson);
---

<Layout title="Careers | SUDATA">
  <div class="flex flex-col w-full max-w-6xl mx-auto space-y-8 sm:space-y-12 md:space-y-16 pt-20 sm:pt-24 md:pt-28 pb-12 sm:pb-16 md:pb-20 px-4 sm:px-6">

    <!-- Page title -->
    <header class="reveal-on-scroll text-center space-y-2 sm:space-y-4">
      <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-sudata-neon tracking-wider sm:tracking-widest neon-text-shadow font-mono-tech">
        CAREERS
      </h1>
      <p class="text-sudata-grey font-mono-tech text-base sm:text-lg tracking-wide">
        [ Resources & Opportunities<br class="sm:hidden" /> from Our Community ]
      </p>
    </header>

    <!-- ──────────────────────────────────────────────────────────────────────
         SECTION: FIRST YEAR GUIDE
    ─────────────────────────────────────────────────────────────────────── -->
    <section class="reveal-on-scroll terminal-block scanline-overlay p-5 sm:p-8 md:p-10">
      <div class="relative z-10">
        <div class="font-mono-tech text-sudata-neon/80 text-sm tracking-[0.2em] mb-5 flex items-center gap-2">
          <span class="animate-flicker flex-shrink-0">&gt;_</span>
          <span class="min-w-0 text-xs sm:text-sm sm:whitespace-nowrap">[SECTION: FIRST_YEAR_GUIDE]</span>
        </div>

        <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-white font-mono-tech tracking-widest mb-2 sm:mb-3">
          First Year Guide
        </h2>
        <p class="text-sudata-grey font-mono-tech text-sm md:text-base leading-relaxed mb-6 sm:mb-8">
          New to university and not sure where to start? SUDATA's First Year Guide covers everything
          you need — from navigating campus and picking your units, to getting the most out of your
          first year in data science.
        </p>

        <PDFViewer
          client:visible
          pdfSrc="/First%20Year%20Guide%20(Booklets).pdf"
          downloadFilename="SUDATA-First-Year-Guide.pdf"
        />
      </div>
    </section>

    <!-- ──────────────────────────────────────────────────────────────────────
         SECTION: SPONSOR OPPORTUNITIES
    ─────────────────────────────────────────────────────────────────────── -->
    <section class="reveal-on-scroll terminal-block scanline-overlay p-5 sm:p-8 md:p-10">
      <div class="relative z-10">
        <div class="font-mono-tech text-sudata-neon/80 text-sm tracking-[0.2em] mb-5 flex items-center gap-2">
          <span class="animate-flicker flex-shrink-0">&gt;_</span>
          <span class="min-w-0 text-xs sm:text-sm sm:whitespace-nowrap">[SECTION: SPONSOR_OPPORTUNITIES]</span>
        </div>

        <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-white font-mono-tech tracking-widest mb-2 sm:mb-3">
          Sponsor Opportunities
        </h2>
        <p class="text-sudata-grey font-mono-tech text-sm md:text-base leading-relaxed mb-6 sm:mb-8">
          Our sponsors regularly share internships, programs, and career opportunities exclusively
          for SUDATA members. Check back often — new listings are added throughout the year.
        </p>

        <OpportunitiesBoard
          client:visible
          opportunities={opportunitiesData.opportunities}
        />
      </div>
    </section>

    <!-- ──────────────────────────────────────────────────────────────────────
         SECTION: STAY IN THE LOOP
    ─────────────────────────────────────────────────────────────────────── -->
    <section class="reveal-on-scroll text-center space-y-5 sm:space-y-6">
      <p class="text-sudata-grey font-mono-tech text-sm tracking-wide">
        Opportunities are also announced on our Instagram — follow us so you never miss a deadline.
      </p>
      <div class="flex justify-center">
        <a
          href="https://www.instagram.com/usyd.sudata/"
          target="_blank"
          rel="noopener noreferrer"
          class="group relative inline-flex items-center justify-center px-6 sm:px-10 md:px-14 py-4 sm:py-5 md:py-7 font-mono-tech font-bold text-sudata-navy text-sm sm:text-base md:text-lg transition-all duration-300 bg-sudata-neon hover:bg-[#70FFFF] rounded-xl shadow-[0_0_20px_rgba(0,240,255,0.6)] hover:shadow-[0_0_50px_rgba(0,240,255,1)] btn-scanline hover:-translate-y-1"
        >
          <span class="relative flex items-center gap-2 sm:gap-3 md:gap-4">
            Follow the Gram
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-sudata-navy sm:w-6 sm:h-6" style="image-rendering: pixelated;">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M7 2H17V4H19V6H21V18H19V20H17V22H7V20H5V18H3V6H5V4H7V2ZM7 4H5V6H7V4ZM17 4H19V6H17V4ZM19 18V6H21V18H19ZM17 20V18H19V20H17ZM7 20H17V18H7V20ZM5 18V20H7V18H5ZM5 6V18H3V6H5ZM9 8H15V10H17V14H15V16H9V14H7V10H9V8ZM11 10H13V14H11V10ZM17 6H19V8H17V6Z" fill="#020617"/>
            </svg>
          </span>
        </a>
      </div>
    </section>

  </div>
</Layout>
