---
import Layout from '../layouts/Layout.astro';
import EventCalendar from '../components/EventCalendar.jsx';

const pageTitle = 'Events Calendar | SUDATA';

// Read events.json file content at build time and pass as inline data
import { readFileSync } from 'fs';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);
const eventsPath = join(__dirname, '..', 'data', 'events.json');
const eventsData = JSON.parse(readFileSync(eventsPath, 'utf-8'));
---

<Layout title={pageTitle}>
  <div class="min-h-screen bg-[#020617] text-[#94a3b8] pt-24 pb-16 px-4">
    <!-- Header Section -->
    <div class="max-w-7xl mx-auto mb-12">
      <div class="text-center mb-8">
        <h1 class="text-5xl md:text-6xl font-bold mb-4">
          <span class="text-[#00F0FF]" style="text-shadow: 0 0 20px #00F0FF, 0 0 40px #00F0FF;">
            Events Calendar
          </span>
        </h1>
        <p class="text-[#94a3b8] font-mono-tech text-lg tracking-wide mb-6">
          [ Temporal Data Stream ]
        </p>
        
        <!-- Navigation Protocol Section -->
        <div class="reveal-on-scroll terminal-block scanline-overlay p-8 max-w-3xl mx-auto mb-8">
          <div class="relative z-10">
            <div class="font-mono-tech text-sudata-neon/80 text-sm tracking-[0.2em] mb-4 flex items-center gap-2">
              <span class="animate-flicker">&gt;_</span>
              <span>[SECTION: NAVIGATION_PROTOCOL]</span>
            </div>
            <h2 class="text-xl font-bold text-white font-mono-tech tracking-widest mb-4 text-left">
              Interface Guide
            </h2>
            <div class="text-sudata-grey font-mono-tech text-sm leading-relaxed space-y-3 text-left">
              <p>
                Navigate through SUDATA's temporal event stream spanning multiple years. The calendar interface allows you to filter events by typeâ€”whether you're hunting for technical workshops, social mixers, or industry networking opportunities.
              </p>
              <div class="text-sudata-neon/70 text-xs tracking-wider space-y-1">
                <div class="flex items-start gap-2">
                  <span class="text-sudata-neon mt-0.5">&gt;</span>
                  <span>Click any event card to expand full details and registration info</span>
                </div>
                <div class="flex items-start gap-2">
                  <span class="text-sudata-neon mt-0.5">&gt;</span>
                  <span>Use category filters to isolate event types</span>
                </div>
                <div class="flex items-start gap-2">
                  <span class="text-sudata-neon mt-0.5">&gt;</span>
                  <span>Scroll through past archives or upcoming sessions</span>
                </div>
                <div class="flex items-start gap-2">
                  <span class="text-sudata-neon mt-0.5">&gt;</span>
                  <span>All timestamps synced to local timezone</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Calendar Component -->
    <div class="max-w-7xl mx-auto">
      <EventCalendar events={eventsData.events} client:load />
    </div>
  </div>
</Layout>

<style>
  /* Smooth scrolling for the page */
  html {
    scroll-behavior: smooth;
  }
</style>
