---
import Layout from '../layouts/Layout.astro';
import EventCalendar from '../components/EventCalendar.jsx';

const pageTitle = 'Events Calendar | SUDATA';

// Read events.json file content at build time and pass as inline data
import { readFileSync } from 'fs';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);
const eventsPath = join(__dirname, '..', 'data', 'events.json');
const eventsData = JSON.parse(readFileSync(eventsPath, 'utf-8'));
---

<Layout title={pageTitle}>
  <div class="min-h-screen bg-[#020617] text-[#94a3b8] pt-24 pb-16 px-4">
    <!-- Header Section -->
    <div class="max-w-7xl mx-auto mb-12">
      <div class="text-center mb-8">
        <h1 class="text-5xl md:text-6xl font-bold mb-4">
          <span class="text-[#00F0FF]" style="text-shadow: 0 0 20px #00F0FF, 0 0 40px #00F0FF;">
            Events Calendar
          </span>
        </h1>
        <p class="text-xl text-[#94a3b8] max-w-3xl mx-auto mb-3">
          Explore SUDATA events across multiple years. Filter by type and dive into past workshops, social mixers, and industry collaborations.
        </p>
        <p class="text-sm text-[#94a3b8]/80 max-w-2xl mx-auto">
          Click on any event to view full details and sign-up information. Use the filters to find events that match your interests.
        </p>
      </div>
    </div>

    <!-- Calendar Component -->
    <div class="max-w-7xl mx-auto">
      <EventCalendar events={eventsData.events} client:load />
    </div>
  </div>
</Layout>

<style>
  /* Smooth scrolling for the page */
  html {
    scroll-behavior: smooth;
  }
</style>
